<!DOCTYPE html>
<html lang="id" class="dark">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HMPS Informatika | Home</title>

    <link rel="apple-touch-icon" sizes="180x180" href="https://hmps-informatika.vercel.app/assets/image/logo-hmps.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="https://hmps-informatika.vercel.app/assets/image/logo-hmps.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="https://hmps-informatika.vercel.app/assets/image/logo-hmps.png" />

    <!-- Open Graph -->
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="HMPS Informatika — Universitas Nggusuwaru" />
    <meta property="og:title" content="HMPS Informatika — Universitas Nggusuwaru" />
    <meta property="og:description" content="SHORT_DESCRIPTION" />
    <meta property="og:url" content="https://hmps-informatika.vercel.app/" />
    <meta property="og:image" content="https://hmps-informatika.vercel.app/assets/image/logo-hmps.png" />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="HMPS Informatika — Universitas Nggusuwaru" />
    <meta name="twitter:description" content="HMPS Informatika — Universitas Nggusuwaru" />
    <meta name="twitter:image" content="https://hmps-informatika.vercel.app/assets/image/logo-hmps.png" />

    <!-- Optional: canonical -->
    <link rel="canonical" href="https://hmps-informatika.vercel.app/" />

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Konfigurasi Tailwind -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        'primary': '#4f46e5', // Indigo 600
                        'accent': '#10b981', // Emerald 500
                        'dark-bg': '#111827', // Gray 900
                        'light-bg': '#f9fafb', // Gray 50
                    }
                }
            }
        }
    </script>

    <!-- Font Awesome (Ikon) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

    <!-- Custom Styling for Smooth Transition -->
    <style>
        html {
            scroll-behavior: smooth;
        }

        body {
            transition: background-color 0.5s ease, color 0.5s ease;
            min-height: 100vh;
        }

        .nav-link {
            transition: color 0.3s, background-color 0.3s;
        }
    </style>
</head>

<body class="bg-light-bg dark:bg-dark-bg text-gray-800 dark:text-gray-100 flex flex-col">

    <!-- NAVIGASI BAR -->
    <nav class="sticky top-0 z-40 bg-white dark:bg-gray-800 shadow-xl">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <!-- Logo HMPS dan Kampus -->
                <div class="flex-shrink-0 flex items-center space-x-3">
                    <img class="h-8 w-auto hidden sm:block" src="assets/img/logo-kampus.png"
                        onerror="this.onerror=null; this.src='https://placehold.co/32x32/10b981/ffffff?text=K'"
                        alt="Logo Kampus">
                    <img class="h-8 w-auto" src="assets/img/logo-hmps.png"
                        onerror="this.onerror=null; this.src='https://placehold.co/32x32/4f46e5/ffffff?text=HMPS'"
                        alt="Logo HMPS Informatika">
                    <span class="text-xl font-bold text-primary dark:text-indigo-400 hidden sm:block">HMPS IF</span>
                </div>

                <!-- Desktop Links -->
                <div class="hidden md:flex md:space-x-8 items-center">
                    <a href="index.html"
                        class="nav-link text-primary dark:text-indigo-400 font-semibold border-b-2 border-primary">Home</a>
                    <a href="about.html"
                        class="nav-link px-3 py-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700">Tentang HMPS</a>
                    <a href="activities.html"
                        class="nav-link px-3 py-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700">Kegiatan</a>
                    <a href="gallery.html"
                        class="nav-link px-3 py-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700">Galeri</a>
                    <a href="contact.html"
                        class="nav-link px-3 py-2 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700">Kontak</a>
                    <a href="login.html"
                        class="nav-link px-3 py-2 rounded-lg bg-primary text-white hover:bg-indigo-700 transition font-medium"
                        aria-label="Login Admin">
                        <i class="fas fa-user-lock mr-1"></i> Login
                    </a>

                    <!-- Theme Toggle Button -->
                    <button id="theme-toggle"
                        class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition">
                        <i class="fas fa-sun dark:hidden"></i>
                        <i class="fas fa-moon hidden dark:inline"></i>
                    </button>
                </div>

                <!-- Mobile Hamburger Menu -->
                <div class="flex items-center md:hidden space-x-3">
                    <a href="login.html"
                        class="nav-link px-3 py-2 rounded-lg bg-primary text-white hover:bg-indigo-700 transition font-medium"
                        aria-label="Login Admin">
                        <i class="fas fa-user-lock mr-1"></i> Login
                    </a>
                    <button id="mobile-menu-button" type="button"
                        class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-primary dark:hover:text-indigo-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>

            </div>
        </div>

        <!-- Mobile Menu -->
        <div class="md:hidden hidden" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="index.html"
                    class="block px-3 py-2 rounded-md text-base font-medium bg-indigo-50 dark:bg-gray-700 text-primary dark:text-indigo-400">Home</a>
                <a href="about.html"
                    class="block px-3 py-2 rounded-md text-base font-medium hover:bg-gray-50 dark:hover:bg-gray-700">Tentang
                    HMPS</a>
                <a href="activities.html"
                    class="block px-3 py-2 rounded-md text-base font-medium hover:bg-gray-50 dark:hover:bg-gray-700">Kegiatan</a>
                <a href="gallery.html"
                    class="block px-3 py-2 rounded-md text-base font-medium hover:bg-gray-50 dark:hover:bg-gray-700">Galeri</a>
                <a href="contact.html"
                    class="block px-3 py-2 rounded-md text-base font-medium hover:bg-gray-50 dark:hover:bg-gray-700">Kontak</a>

                <button id="mobile-theme-toggle"
                    class="w-full text-left px-3 py-2 rounded-md text-base font-medium hover:bg-gray-50 dark:hover:bg-gray-700 mt-2">
                    <i class="fas fa-moon mr-2"></i> Ubah Tema
                </button>
            </div>
        </div>
    </nav>

    <!-- MAIN CONTENT -->
    <!-- Menggabungkan semua konten yang tidak duplikat ke dalam satu tag <main> -->
    <main class="flex-grow">

        <!-- HERO SECTION -->
        <section class="relative bg-primary dark:bg-gray-900 text-white pt-20 pb-28 md:pt-32 md:pb-48 overflow-hidden">
            <!-- Background Texture (Kode) -->
            <div class="absolute inset-0 z-0 opacity-10 dark:opacity-20 bg-repeat"
                style="background-image: url('data:image/svg+xml;utf8,<svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;4&quot; height=&quot;4&quot;><rect width=&quot;2&quot; height=&quot;2&quot; x=&quot;0&quot; y=&quot;0&quot; fill=&quot;%23ffffff&quot;/><rect width=&quot;2&quot; height=&quot;2&quot; x=&quot;2&quot; y=&quot;2&quot; fill=&quot;%23ffffff&quot;/></svg>')">
            </div>
            <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center z-10">
                <h1 class="text-4xl sm:text-6xl font-extrabold tracking-tight mb-4">
                    HMPS <span class="text-accent dark:text-indigo-300">Informatika</span>
                </h1>
                <p class="mt-3 max-w-2xl mx-auto text-xl text-indigo-100 dark:text-gray-300">
                    Wadah Aspirasi, Kreativitas, dan Kolaborasi Mahasiswa Program Studi Informatika.
                </p>
                <div class="mt-8 flex justify-center space-x-4">
                    <a href="about.html"
                        class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-full shadow-lg text-primary bg-white hover:bg-gray-100 transition duration-300">
                        Tentang Kami
                    </a>
                    <a href="#kegiatan"
                        class="inline-flex items-center px-6 py-3 border border-white text-base font-medium rounded-full text-white hover:bg-white hover:text-primary transition duration-300">
                        Lihat Kegiatan
                    </a>
                </div>
            </div>
        </section>

        <!-- VISI DAN MISI SECTION -->
        <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 -mt-20 md:-mt-28 relative z-20">
            <div class="bg-white dark:bg-gray-800 shadow-2xl rounded-xl p-8 lg:p-12 text-center">
                <h2 class="text-3xl font-bold mb-4">Visi Kami</h2>
                <p id="visi-content" class="text-lg font-medium text-gray-800 dark:text-gray-200">
                    <i class="fas fa-spinner fa-spin mr-2"></i> Memuat Visi...
                </p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-10">
                    <div class="p-4">
                        <i class="fas fa-users text-4xl text-accent mb-3"></i>
                        <h4 class="font-semibold text-xl">Kolaborasi</h4>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Menciptakan ekosistem yang suportif.
                        </p>
                    </div>
                    <div class="p-4">
                        <i class="fas fa-lightbulb text-4xl text-accent mb-3"></i>
                        <h4 class="font-semibold text-xl">Inovasi</h4>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Mendorong kreativitas dalam teknologi.
                        </p>
                    </div>
                    <div class="p-4">
                        <i class="fas fa-graduation-cap text-4xl text-accent mb-3"></i>
                        <h4 class="font-semibold text-xl">Prestasi</h4>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Mendukung pencapaian akademik dan
                            non-akademik.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- HMPS DALAM ANGKA SECTION -->
        <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
            <h2 class="text-3xl font-extrabold text-center mb-12 text-gray-900 dark:text-gray-100">
                HMPS Informatika dalam Angka
            </h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
                <div
                    class="stat-card bg-white dark:bg-gray-800 p-6 rounded-xl shadow-xl border-b-4 border-primary hover:shadow-2xl transition duration-300">
                    <i class="fas fa-users text-4xl text-primary mb-3"></i>
                    <p class="text-4xl sm:text-5xl font-extrabold text-gray-900 dark:text-gray-100">85+</p>
                    <p class="text-md text-gray-500 dark:text-gray-400 mt-1 font-semibold">Anggota Aktif</p>
                </div>
                <div
                    class="stat-card bg-white dark:bg-gray-800 p-6 rounded-xl shadow-xl border-b-4 border-accent hover:shadow-2xl transition duration-300">
                    <i class="fas fa-calendar-check text-4xl text-accent mb-3"></i>
                    <p class="text-4xl sm:text-5xl font-extrabold text-gray-900 dark:text-gray-100">12</p>
                    <p class="text-md text-gray-500 dark:text-gray-400 mt-1 font-semibold">Kegiatan Utama per Tahun</p>
                </div>
                <div
                    class="stat-card bg-white dark:bg-gray-800 p-6 rounded-xl shadow-xl border-b-4 border-yellow-500 hover:shadow-2xl transition duration-300">
                    <i class="fas fa-sitemap text-4xl text-yellow-500 mb-3"></i>
                    <p class="text-4xl sm:text-5xl font-extrabold text-gray-900 dark:text-gray-100">5</p>
                    <p class="text-md text-gray-500 dark:text-gray-400 mt-1 font-semibold">Departemen Inti</p>
                </div>
                <div
                    class="stat-card bg-white dark:bg-gray-800 p-6 rounded-xl shadow-xl border-b-4 border-red-500 hover:shadow-2xl transition duration-300">
                    <i class="fas fa-history text-4xl text-red-500 mb-3"></i>
                    <p class="text-4xl sm:text-5xl font-extrabold text-gray-900 dark:text-gray-100">2024</p>
                    <p class="text-md text-gray-500 dark:text-gray-400 mt-1 font-semibold">Tahun Berdiri</p>
                </div>
            </div>
        </section>

        <!-- KEGIATAN TERBARU SECTION -->
        <section id="kegiatan" class="py-20 bg-gray-50 dark:bg-gray-900">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-bold text-gray-900 dark:text-gray-100">Kegiatan Terbaru</h2>
                    <p class="mt-2 text-lg text-gray-600 dark:text-gray-400">Apa yang sedang kami kerjakan dan
                        rencanakan.</p>
                </div>
                <div id="activities-container" class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <!-- Loading state elements -->
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg animate-pulse h-48"></div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg animate-pulse h-48"></div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg animate-pulse h-48"></div>
                </div>
                <div class="text-center mt-12">
                    <a href="activities.html"
                        class="inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-white bg-primary hover:bg-indigo-700 transition duration-300 shadow-md">
                        Lihat Semua Kegiatan <i class="fas fa-arrow-right ml-2"></i>
                    </a>
                </div>
            </div>
        </section>

    </main>

    <!-- FOOTER -->
    <footer class="bg-gray-900 dark:bg-black text-white py-12 mt-auto">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 md:grid-cols-4 gap-8">
            <div>
                <!-- Placeholder image used as fallback -->
                <img class="h-12 w-auto mb-4" src="assets/image/LOGO-KAMPUS.webp"
                    onerror="this.onerror=null; this.src='https://placehold.co/48x48/000000/ffffff?text=K+Putih'"
                    alt="Logo Kampus">
                <p class="text-gray-400 text-sm">Organisasi mahasiswa yang bergerak untuk kemajuan Prodi Informatika.
                </p>
            </div>
            <div>
                <h4 class="text-lg font-semibold mb-4">Tautan</h4>
                <ul class="space-y-2 text-gray-400">
                    <li><a href="about.html" class="hover:text-white transition">Visi & Misi</a></li>
                    <li><a href="activities.html" class="hover:text-white transition">Agenda</a></li>
                    <li><a href="gallery.html" class="hover:text-white transition">Dokumentasi</a></li>
                </ul>
            </div>
            <div>
                <h4 class="text-lg font-semibold mb-4">Hubungi Kami</h4>
                <ul class="space-y-2 text-gray-400">
                    <li class="flex items-center"><i class="fas fa-envelope mr-3 text-accent"></i> hmps.if@unswa.ac.id
                    </li>
                    <li class="flex items-center"><i class="fas fa-phone mr-3 text-accent"></i> +62 878-4194-7229</li>
                    <li class="flex items-start"><i class="fas fa-map-marker-alt mr-3 mt-1 text-accent"></i> Sekretariat
                        HMPS IF, Gedung C</li>
                </ul>
            </div>
            <div>
                <h4 class="text-lg font-semibold mb-4">Ikuti Kami</h4>
                <div class="flex space-x-4">
                    <a href="#" class="text-2xl text-gray-400 hover:text-white transition" aria-label="GitHub"><i
                            class="fab fa-github"></i></a>
                    <a href="#" class="text-2xl text-gray-400 hover:text-white transition" aria-label="Facebook"><i
                            class="fab fa-facebook-f"></i></a>
                    <a href="#" class="text-2xl text-gray-400 hover:text-white transition" aria-label="Instagram"><i
                            class="fab fa-instagram"></i></a>
                </div>
            </div>
        </div>
        <div
            class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8 border-t border-gray-700 pt-6 text-center text-sm text-gray-500">
            &copy; 2025 HMPS Informatika. All rights reserved.
        </div>
    </footer>

    <!-- JAVASCRIPT & JQUERY LOGIC -->
    <script>
        const API_BASE_URL = 'https://backend-if.vercel.app';
        const ENDPOINTS = {
            VISI_MISI: `${API_BASE_URL}/visi-misi`,
            SEJARAH: `${API_BASE_URL}/sejarah`,
            BUDAYA: `${API_BASE_URL}/budaya`,
            ACTIVITIES: `${API_BASE_URL}/activities`
        };

        $(document).ready(function () {
            // === LOGIC TEMA GELAP/TERANG ===
            function toggleTheme() {
                const html = $('html');
                if (html.hasClass('dark')) {
                    html.removeClass('dark');
                    localStorage.setItem('theme', 'light');
                } else {
                    html.addClass('dark');
                    localStorage.setItem('theme', 'dark');
                }
            }

            function initializeTheme() {
                const storedTheme = localStorage.getItem('theme');
                if (storedTheme === 'dark' || (!storedTheme && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                    $('html').addClass('dark');
                } else {
                    $('html').removeClass('dark');
                }
            }

            initializeTheme();
            $('#theme-toggle, #mobile-theme-toggle').on('click', toggleTheme);

            // === LOGIC MENU MOBILE ===
            $('#mobile-menu-button').on('click', function () {
                $('#mobile-menu').slideToggle(300);
            });

            // === MUAT DATA ===
            loadRecentActivities();
            loadVisiMisi();
        });

        // === FUNGSI GLOBAL: FETCH DATA DARI API ===
        async function fetchData(endpoint) {
            try {
                const response = await fetch(endpoint);
                if (!response.ok) throw new Error(`Gagal mengambil data dari ${endpoint} (status ${response.status})`);
                const data = await response.json();
                if (Array.isArray(data) && data.length === 0) throw new Error("Data kosong dari server.");
                return data;
            } catch (error) {
                console.error("❌ ERROR FETCHING:", error);
                return { error: true, message: "Gagal memuat data." };
            }
        }

        // === FUNGSI FORMAT TANGGAL ===
        function formatDate(isoDateString) {
            if (!isoDateString) return 'Tanggal Tidak Diketahui';
            try {
                const date = new Date(isoDateString);
                const options = { day: '2-digit', month: 'short', year: 'numeric' };
                return date.toLocaleDateString('id-ID', options).replace(/\./g, '');
            } catch (e) {
                console.error("Gagal memformat tanggal:", e);
                return 'Tanggal Invalid';
            }
        }

        // === FUNGSI LOAD KEGIATAN TERBARU ===
        async function loadRecentActivities() {
            const $container = $("#activities-container");
            $container.html('<div class="col-span-full text-center p-4 text-primary dark:text-indigo-400 font-semibold">Memuat 3 kegiatan terbaru...</div>');

            const allActivities = await fetchData(ENDPOINTS.ACTIVITIES);

            if (allActivities.error) {
                $container.html(`<p class="col-span-full text-center text-red-500">${allActivities.message}</p>`);
                return;
            }

            const recentActivities = allActivities.slice(0, 3).map(item => ({
                title: item.title,
                date: formatDate(item.activity_date),
                category: item.category,
                desc: item.description || 'Ringkasan tidak tersedia.',
                status: item.status || 'done'
            }));

            if (recentActivities.length === 0) {
                $container.html('<p class="col-span-full text-center text-gray-500">Tidak ada kegiatan terbaru.</p>');
                return;
            }

            const activityHtml = recentActivities.map(activity => {
                const statusClass = activity.status === "upcoming"
                    ? "bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300"
                    : "bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";

                return `
            <div class="bg-white dark:bg-gray-800 p-6 rounded-xl shadow-xl hover:shadow-2xl transition duration-300 border-t-4 border-accent">
                <span class="inline-block px-3 py-1 text-xs font-medium rounded-full ${statusClass} mb-3">
                    ${activity.status === "upcoming" ? "Akan Datang" : "Telah Dilaksanakan"}
                </span>
                <h3 class="text-xl font-bold mb-2 text-gray-900 dark:text-gray-100">${activity.title}</h3>
                <p class="text-sm text-gray-600 dark:text-gray-400 mb-3">${activity.date} | Kategori: ${activity.category}</p>
                <p class="text-gray-700 dark:text-gray-300">${activity.desc}</p>
            </div>
        `;
            }).join('');

            $container.html(activityHtml);
        }

        // === FUNGSI LOAD VISI & MISI ===
        async function loadVisiMisi() {
            const dataArray = await fetchData(ENDPOINTS.VISI_MISI);

            if (dataArray.error || !Array.isArray(dataArray)) {
                const message = dataArray.message || "Gagal memuat Visi & Misi.";
                $('#visi-content').html(`<p class="text-lg font-medium text-red-500">${message}</p>`);
                $('#misi-list').html(`<li class="p-4 text-center text-red-500">${message}</li>`);
                return;
            }

            // Ambil visi pertama
            const visi = dataArray[0]?.visi || 'Visi belum ditetapkan.';
            const misiArray = dataArray.map(item => item.misi).filter(Boolean);

            $('#visi-content').html(`<p class="text-lg text-gray-800 dark:text-gray-200">${visi}</p>`);
            $('#misi-list').html(
                misiArray.map(misi => `<li class="p-2 text-gray-700 dark:text-gray-300">${misi}</li>`).join('')
            );
        }
    </script>

</body>

</html>